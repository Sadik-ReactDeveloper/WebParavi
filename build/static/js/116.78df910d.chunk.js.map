{"version":3,"sources":["components/astrology/UserChatHistory.js","assets/img/astrologin-bg.jpg"],"names":["UserChatHistory","props","componentDidMount","userId","JSON","parse","localStorage","getItem","axiosConfig","get","then","response","AllChatData","data","filter","ele","type","console","log","setState","catch","error","amount","state","TablerowData","columns","headerName","field","sortable","valueGetter","params","createdAt","split","this","headerTop","className","style","float","width","backgroundColor","position","backgroundAttachment","backgroundSize","color","padding","backgroundImage","astrologinbg","backgroundPosition","backgroundRepeat","textAlign","md","height","columnDefs","rowData","pagination","paginationPageSize","React","Component","module","exports"],"mappings":"oQAUMA,G,cAAe,kDACnB,WAAYC,GAAQ,IAAD,EAuEf,OAvEe,qBACjB,cAAMA,IAwERC,kBAAoB,WAClB,IAAIC,EAASC,KAAKC,MAAMC,aAAaC,QAAQ,YAC7CC,IACGC,IAAI,yBAAD,OAA0BN,IAC7BO,MAAK,SAAAC,GAEJ,IAAMC,EAAcD,EAASE,KAAKA,KAAKC,QACrC,SAAAC,GAAG,MAAiB,SAAbA,EAAIC,QAEbC,QAAQC,IAAIN,GACZ,EAAKO,SAAS,CACZnB,gBAAiBY,OAGpBQ,OAAM,SAAAC,GACLJ,QAAQC,IAAIG,MAEhBb,IACGC,IAAI,yBAAD,OAA0BN,IAC7BO,MAAK,SAAAC,GACJ,EAAKQ,SAAS,CACZG,OAAQX,EAASE,KAAKA,KAAKS,YAG9BF,OAAM,SAAAC,GACLJ,QAAQC,IAAIG,OAhGhB,EAAKE,MAAQ,CACXvB,gBAAiB,GACjBa,KAAM,IAGR,EAAKU,MAAQ,CACXC,aAAc,GACdC,QAAS,CAOP,CACEC,WAAY,kBACZC,MAAO,mBACPC,UAAU,EACVd,QAAQ,GAEV,CACEY,WAAY,oBACZC,MAAO,OACPC,UAAU,EACVd,OAAQ,wBAEV,CACEY,WAAY,OACZC,MAAO,gBACPC,UAAU,EACVd,OAAQ,wBAEV,CACEY,WAAY,SACZC,MAAO,UACPC,UAAU,EACVd,OAAQ,wBAGV,CACEY,WAAY,YACZC,MAAO,gBACPC,UAAU,EACVd,OAAQ,wBAGV,CACEY,WAAY,WACZC,MAAO,WACPC,UAAU,EACVd,OAAQ,wBAEV,CACEY,WAAY,OACZG,YAAa,SAAUC,GACrB,OAAOA,EAAOjB,KAAKkB,UAAUC,MAAM,KAAK,IAE1CJ,UAAU,EACVd,OAAQ,wBAEV,CACEY,WAAY,OACZG,YAAa,SAAUC,GACrB,OAAOA,EAAOjB,KAAKkB,UAAUC,MAAM,KAAK,GAAGA,MAAM,KAAK,IAExDJ,UAAU,EACVd,OAAQ,0BAGZ,EAsFH,OArFA,mCA8BD,WAAU,IAAD,EACCd,EAAoBiC,KAAKV,MAAzBvB,gBACR,OACE,kBAAC,IAAS,CAACkC,UAAU,WACnB,6BAASC,UAAU,aACjB,yBACEA,UAAU,GACVC,MAAO,CACLC,MAAO,OACPC,MAAO,OACPC,gBAAiB,UACjBC,SAAU,WACVC,qBAAsB,QACtBC,eAAgB,QAChBC,MAAO,UACPC,QAAS,qBACTC,gBAAgB,OAAD,OAASC,IAAY,KACpCC,mBAAoB,gBACpBC,iBAAkB,aAClBC,UAAW,WAGb,kBAAC,IAAS,KACR,kBAAC,IAAG,KACF,kBAAC,IAAG,CAACC,GAAG,MACN,yBAAKf,UAAU,sBACb,4DAEA,mDACsB,8BAAOF,KAAKV,MAAMD,eAQpD,iCACE,yBACEa,UAAU,kBACVC,MAAO,CACLe,OAAQ,OACRb,MAAO,SAGT,kBAAC,cAAW,CACVc,WAAsB,QAAZ,EAAEnB,KAAKV,aAAK,aAAV,EAAYE,QACxB4B,QAASrD,EACTsD,YAAY,EACZC,mBAAoB,YAM/B,EA9JkB,CAASC,IAAMC,YAgKrBzD,a,oBC1Kf0D,EAAOC,QAAU,IAA0B,2C","file":"static/js/116.78df910d.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"../../assets/scss/astroteam.scss\";\r\nimport axiosConfig from \"../../axiosConfig\";\r\nimport { Container, Row, Col } from \"reactstrap\";\r\nimport LayoutOne from \"../../layouts/LayoutOne\";\r\nimport astrologinbg from \"../../assets/img/astrologin-bg.jpg\";\r\nimport { AgGridReact } from \"ag-grid-react\";\r\nimport \"ag-grid-community/dist/styles/ag-grid.css\";\r\nimport \"ag-grid-community/dist/styles/ag-theme-balham.css\";\r\n\r\nclass UserChatHistory extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      UserChatHistory: [],\r\n      data: {},\r\n    };\r\n\r\n    this.state = {\r\n      TablerowData: [],\r\n      columns: [\r\n        // {\r\n        //   headerName: \"ID\",\r\n        //   field: \"transaction_id\",\r\n        //   sortable: true,\r\n        //   filter: true,\r\n        // },\r\n        {\r\n          headerName: \"Astrologer Name\",\r\n          field: \"astroId.fullname\",\r\n          sortable: true,\r\n          filter: true,\r\n        },\r\n        {\r\n          headerName: \"Conversation Type\",\r\n          field: \"type\",\r\n          sortable: true,\r\n          filter: \"agNumberColumnFilter\",\r\n        },\r\n        {\r\n          headerName: \"Rate\",\r\n          field: \"totalCredited\",\r\n          sortable: true,\r\n          filter: \"agNumberColumnFilter\",\r\n        },\r\n        {\r\n          headerName: \"Amount\",\r\n          field: \"userAmt\",\r\n          sortable: true,\r\n          filter: \"agNumberColumnFilter\",\r\n        },\r\n\r\n        {\r\n          headerName: \"Deduction\",\r\n          field: \"totalDuration\",\r\n          sortable: true,\r\n          filter: \"agNumberColumnFilter\",\r\n        },\r\n\r\n        {\r\n          headerName: \"Duration\",\r\n          field: \"duration\",\r\n          sortable: true,\r\n          filter: \"agNumberColumnFilter\",\r\n        },\r\n        {\r\n          headerName: \"Date\",\r\n          valueGetter: function (params) {\r\n            return params.data.createdAt.split(\"T\")[0];\r\n          },\r\n          sortable: true,\r\n          filter: \"agNumberColumnFilter\",\r\n        },\r\n        {\r\n          headerName: \"Time\",\r\n          valueGetter: function (params) {\r\n            return params.data.createdAt.split(\"T\")[1].split(\".\")[0];\r\n          },\r\n          sortable: true,\r\n          filter: \"agNumberColumnFilter\",\r\n        },\r\n      ],\r\n    };\r\n  }\r\n  componentDidMount = () => {\r\n    let userId = JSON.parse(localStorage.getItem(\"user_id\"));\r\n    axiosConfig\r\n      .get(`/user/userChathistory/${userId}`)\r\n      .then(response => {\r\n        // console.log(response.data.data);\r\n        const AllChatData = response.data.data.filter(\r\n          ele => ele.type === \"Chat\"\r\n        );\r\n        console.log(AllChatData);\r\n        this.setState({\r\n          UserChatHistory: AllChatData,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n      });\r\n    axiosConfig\r\n      .get(`/user/userChathistory/${userId}`)\r\n      .then(response => {\r\n        this.setState({\r\n          amount: response.data.data.amount,\r\n        });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const { UserChatHistory } = this.state;\r\n    return (\r\n      <LayoutOne headerTop=\"visible\">\r\n        <section className=\"pt-0 pb-0\">\r\n          <div\r\n            className=\"\"\r\n            style={{\r\n              float: \"left\",\r\n              width: \"100%\",\r\n              backgroundColor: \"#272727\",\r\n              position: \"relative\",\r\n              backgroundAttachment: \"fixed\",\r\n              backgroundSize: \"cover\",\r\n              color: \"#ffffff\",\r\n              padding: \" 50px 0px 50px 0px\",\r\n              backgroundImage: `url(${astrologinbg})`,\r\n              backgroundPosition: \"center center\",\r\n              backgroundRepeat: \" no-repeat\",\r\n              textAlign: \"center\",\r\n            }}\r\n          >\r\n            <Container>\r\n              <Row>\r\n                <Col md=\"12\">\r\n                  <div className=\"leftcont text-left\">\r\n                    <h1>UserChatHistory Transactions</h1>\r\n\r\n                    <h3>\r\n                      Available balance : <span>{this.state.amount}</span>\r\n                    </h3>\r\n                  </div>\r\n                </Col>\r\n              </Row>\r\n            </Container>\r\n          </div>\r\n        </section>\r\n        <section>\r\n          <div\r\n            className=\"ag-theme-balham\"\r\n            style={{\r\n              height: \"80vh\",\r\n              width: \"100%\",\r\n            }}\r\n          >\r\n            <AgGridReact\r\n              columnDefs={this.state?.columns}\r\n              rowData={UserChatHistory}\r\n              pagination={true}\r\n              paginationPageSize={50}\r\n            />\r\n          </div>\r\n        </section>\r\n      </LayoutOne>\r\n    );\r\n  }\r\n}\r\nexport default UserChatHistory;\r\n\r\n// import React from \"react\";\r\n\r\n// import { Container, Row, Col, Table } from \"reactstrap\";\r\n// import astrologinbg from \"../../assets/img/astrologin-bg.jpg\";\r\n\r\n// import LayoutOne from \"../../layouts/LayoutOne\";\r\n// import \"../../assets/scss/astroteam.scss\";\r\n\r\n// import axiosConfig from \"../../axiosConfig\";\r\n\r\n// class UserCallHistory extends React.Component {\r\n//   constructor(props) {\r\n//     super(props);\r\n\r\n//     this.state = {\r\n//       userChatList: [],\r\n//     };\r\n//   }\r\n//   componentDidMount() {\r\n//     let userId = JSON.parse(localStorage.getItem(\"user_id\"));\r\n//     axiosConfig\r\n//       .get(`/user/userChathistory/${userId}`)\r\n//       .then(response => {\r\n//         const responseData = response?.data?.data;\r\n//         console.log(responseData);\r\n\r\n//         responseData.filter(ele => ele.type === \"Chat\");\r\n\r\n//         // if (responseData === true) {\r\n//         // console.log(allChat);\r\n//         this.setState({\r\n//           userChatList: responseData,\r\n//         });\r\n//         // }\r\n//       })\r\n//       .catch(error => {\r\n//         console.log(error);\r\n//       });\r\n//   }\r\n\r\n//   render() {\r\n//     const { userChatList } = this.state;\r\n\r\n//     return (\r\n//       <LayoutOne headerTop=\"visible\">\r\n//         <section className=\"pt-0 pb-0\">\r\n//           <div\r\n//             className=\"\"\r\n//             style={{\r\n//               float: \"left\",\r\n//               width: \"100%\",\r\n//               backgroundColor: \"#272727\",\r\n//               position: \"relative\",\r\n//               backgroundAttachment: \"fixed\",\r\n//               backgroundSize: \"cover\",\r\n//               color: \"#ffffff\",\r\n//               padding: \" 50px 0px 50px 0px\",\r\n//               backgroundImage: `url(${astrologinbg})`,\r\n//               backgroundPosition: \"center center\",\r\n//               backgroundRepeat: \" no-repeat\",\r\n//               textAlign: \"center\",\r\n//             }}\r\n//           >\r\n//             <Container>\r\n//               <Row>\r\n//                 <Col md=\"12\">\r\n//                   <div className=\"leftcont text-left\">\r\n//                     <h1>UserChatHistory Transactions</h1>\r\n//                   </div>\r\n//                 </Col>\r\n//               </Row>\r\n//             </Container>\r\n//           </div>\r\n//         </section>\r\n\r\n//         <section>\r\n//           <Container>\r\n//             <Row>\r\n//               <Col lg=\"12\">\r\n//                 <div className=\"\">\r\n//                   <Table striped className=\"\">\r\n//                     <thead>\r\n//                       <tr>\r\n//                         <th>#Conversation ID</th>\r\n//                         <th>Astrologer Name</th>\r\n\r\n//                         <th>Conversation Type</th>\r\n//                         <th>Rate</th>\r\n//                         <th>Duration</th>\r\n\r\n//                         <th>Deducation</th>\r\n//                         {/* <th>Date/Time</th> */}\r\n//                       </tr>\r\n//                     </thead>\r\n//                     {userChatList.length\r\n//                       ? userChatList.map(user => {\r\n//                           return (\r\n//                             <tbody key={user._id}>\r\n//                               <tr>\r\n//                                 <th>{user?.Sid}</th>\r\n//                                 <td>{user?.astroId?.fullname}</td>\r\n\r\n//                                 <td>{user.type}</td>\r\n\r\n//                                 <td>{user?.astroid?.callCharge}/Min.</td>\r\n\r\n//                                 <td>{user?.Duration} Min</td>\r\n//                                 <td>{user?.userdeductedAmt} Rs</td>\r\n//                                 {/* <td>{user?.DateCreated.split(\"T\")[0]}</td> */}\r\n//                               </tr>\r\n//                             </tbody>\r\n//                           );\r\n//                         })\r\n//                       : null}\r\n//                   </Table>\r\n//                 </div>\r\n//               </Col>\r\n//             </Row>\r\n//           </Container>\r\n//         </section>\r\n//       </LayoutOne>\r\n//     );\r\n//   }\r\n// }\r\n\r\n// export default UserCallHistory;\r\n","module.exports = __webpack_public_path__ + \"static/media/astrologin-bg.f858568c.jpg\";"],"sourceRoot":""}